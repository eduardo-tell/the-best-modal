"use strict";var modal={modal:{abre:function abre(a){modal.conteudoEscolhido=a,$("#modal").hasClass("md-show")?(modal.modal.removeConteudo(),modal.modal.conteudoModal()):modal.modal.montaModal()},removeConteudo:function removeConteudo(){$("#modal > div").hide()},fecha:function fecha(){console.log("Inicia: fecha..."),modal.modal.desfoque(),setTimeout(function(){$("#modal > div").removeClass("exibe")},100),setTimeout(function(){$("#modal").removeClass("md-show modal-fixado-topo"),$("body").removeAttr("style"),modal.modal.removeConteudo()},500)},escondeConteudos:function escondeConteudos(){console.log("Inicia: escondeConteudos..."),$("#modal > div").hide()},desfoque:function desfoque(){console.log("Inicia: desfoque..."),$("main").addClass("blur")},exibeModal:function exibeModal(){return modal.modal.desfoque(),modal.modal.botaoFechar(),modal.modal.verificaPosicaoInicial(),setTimeout(function(){$("#modal").addClass("md-show"),$("."+modal.conteudoEscolhido).removeAttr("style")},100),setTimeout(function(){$("."+modal.conteudoEscolhido).addClass("exibe")},500),modal.modal.inicia()},montaModal:function montaModal(){return document.querySelectorAll(".md-overlay").length||$("<div class='md-overlay'></div>").insertAfter("#modal"),modal.modal.conteudoModal()},botaoFechar:function botaoFechar(){console.log("Inicia: botaoFechar..."),$("#modal ."+modal.conteudoEscolhido+" .fecha-modal").length||(console.log($("#modal ."+modal.conteudoEscolhido)),$("#modal").append("<button class='btn fecha-modal'>Fechar</button>")),$(".fecha-modal").on("click",function(){modal.modal.fecha()})},verificaPosicaoInicial:function verificaPosicaoInicial(){$("."+modal.conteudoEscolhido).hasClass("fixado-topo")&&($("#modal").addClass("modal-fixado-topo"),$("body").css("height","100vh"),$("body").css("overflow","hidden"))},conteudoModal:function conteudoModal(){console.log("Inicia: conteudoModal.modal...");(function existeConteudo(){return console.log("Inicia: existeConteudo..."),modal.conteudoEscolhido?$("#modal ."+modal.conteudoEscolhido).length:0!=document.querySelectorAll("#modal > div").length})()?modal.modal.exibeModal():function requisicao(){console.log("Inicia: requisicao...");var a="modal/"+modal.conteudoEscolhido+".html";$("#modal").load(a,function(a,b,c){"success"==b?(modal.modal.verificaPosicaoInicial(),modal.modal.conteudoModal()):"error"==b&&alert("Error: "+c.status+": "+c.statusText)})}()},inicia:function inicia(){$("[data-acao]").on("click",function(){modal.modal.abre($(this).data("acao"))})}}};modal.modal.inicia();